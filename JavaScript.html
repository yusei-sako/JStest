<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>JavaScriptの練習</title>
</head>
<body>
  <h1>見出し</h1>
  <p id="msg">こんにちは！</p>
  <script src="myscript.js"></script>
  <script>
    console.log("hello world!");

    /* 変数：データにつけるラベル
       データ型
        - 文字列
            表現方法
             特殊文字
          演算子 */
    var s;
    s = "hello";
    s = 'hel\'lo';
    // \n 改行
    // \t タブ
    s = 'it\'s\n a pe\nn.';
    s = "hello" + "world";
    console.log(s);
    /*  - 数値 */
    var x = 10 % 3; // 1
    x++; // 2
    x--; // 1
    console.log(x);

    /*  - 真偽値 (true / false)
            文字列: 空文字以外だったらtrue
            数値: 0かNaN以外だったらtrue
            object: null以外だったらtrue
            undefined, null -> false */
    if(x){
      //処理
    }
    if (x !== '') {
      //処理
    }
    /*  三項演算子
    var a, b, c;
    if (条件) {
      a = b;
    } else {
      a = c;
    }
    下のように書き換えられるRicty Diminished
    a = (条件) ? b : c; */
    var max, x, y;
    max = (x > y) ? x : y;

    /*  - オブジェクト
          - 配列
          - 関数
          - 組み込みオブジェクト
        - undefined 定義されていない
        - null 何もない */
    var msg = "hello world!"; /* 変数の宣言と代入 */
    console.log("msg");

    /*  条件分岐
          if (条件) {
              真
          } else {
              偽
          } */
          var score = 80;
          if (score > 60) {
            console.log("ok!");
          } else if(score > 40) {
            console.log("soso...");
          } else {
            console.log("ng!");
          }
          var signal = "pink";
          switch (signal) {
            case "red":
              console.log("stop!");
              break;
            case "blue":
              console.log("go!");
              break;
          }

    /*  論理演算子
        AND &&
        OR ||
        NOT !
        score > 60 && score < 80 */

    /* ループ処理
         while
         do ... while */
      var i = 0;
      while (i < 10) {
        console.log(i);
        i++;
      } // 最初に条件判定
      var i = 200;
      do {
        console.log(i);
        i++;
      } while (i < 10); // 後で判定
    /*   for
          break ループ処理を抜ける
          continue ループ処理を一回スキップ */
      for (var i = 0; i < 10; i++) {
        console.log(i);
      }
      for (var i = 0; i < 10; i++) {
        if (i === 5) { // iが5の時
          break; // ループを抜ける 0,1,2,3,4
          // continue; 5になった時飛ばす 0,1,2,3,4,6,7,8,9
        }
        console.log(i);
      }

    /* alert    OKボタンの付いたダイヤログボックスを表示
       confirm  OKとキャンセルボタンのダイヤログボックス表示
       prompt   テキストボックス付き */
    var answer = confirm("キャンセル or OK");
    console.log(answer);
    /* if(confirm("本当に削除しますか？")) {
      削除処理
    } */
    var name = prompt("お名前は？");
    console.log(name);

    /* 関数: 複数の処理
    function 関数名(引数) {
      処理
      return 返り値
    }
    function hello(name){
      console.log("hello " + name);
    }
    hello("Tom");
    hello("Bob");
    function hello(name){
      var msg = "hello " + name; // ローカル変数
      return msg;
    } */
    var hello = function hello(name){ // 無名関数、匿名関数
      var msg = "hello " + name; // ローカル変数
      return msg;
    };
    var greet = hello("Tom");
    console.log(greet); // hello Tom

    /* 即時関数
       これを使うことによって関数を安全に使うことができる
       複雑なコードを書く時
    */
    (function hello() {
      console.log("hello");
    })(); //hello
    (function(name) {
      console.log("hello " + name);
    })("Tom"); //hello Tom
    (function() {
      var x = 10,
          y = 20;
      console.log(x + y);
    })(); //hello

    /* タイマー処理
         setInterval どんどん処理する(重くなる)
         setTimeout 前の処理が終わってから(良く使われる) */
    var i = 0;
    function show() {
        console.log(i++);
        var tid = setTimeout(function() {
            show();
        }, 1000);
        if (i > 5) {
            clearTimeout(tid);
        }
    }
    show(); // 条件に合うまでループ

    /* 配列: グループ化されたデータ */
    // var score_1 = 100, score_2 = 200
    var score = [100, 300, 500, "taguchi"]; // 配列格納
    console.log(score[0]); // 添字 0, 1, ...
    score[2] = 400; // 3つ目を書き換える
    console.log(score); // すべて表示
    var m = [ // 配列の中に配列
      [1, 2, 3],
      [4, 5, 6]
    ];
    console.log(m[1][1]); // 5を取得

    /* オブジェクト
           名前と値 */
    var user = {
      email: "yusei@gmail.com", // プロパティ
      score: 80,
      greet: function(name) { // メソッド
          console.log("hello, " + name + " from " + this.email);
      } // this オブジェクトの中の他のプロパティを参照
    };
    console.log(user["email"]);
    console.log(user.email); // どちらでも可
    user.score = 100;
    console.log(user); // {email: "yusei@gmail.com", score: 100}
    user.greet("Tom"); // hello, Tom

    /* 組み込みオブジェクト
      - String 文字列 */
      // var s = new String("sako"); // sに引数を渡す 文字列オブジェクト
      var s = "sako"; // このように書いても同じになる 文字列リテラル
      console.log(s.length); // langth 文字列の長さを返す 4
      console.log(s.replace("s","S")); // replace 置き換え Sako
      console.log(s.substr(1, 3)); // substr 部分文字列を返す ako
                                   // 添字, 何文字表示するか
   // - Array 配列
      // var a = new Array(100, 300,200);
      var a = [100, 300, 200];
      console.log(a.length); // 配列の個数を返す 3
      /* unshift 先頭に追加
         push    末尾に追加
         shift   先頭から除去
         pop     末尾から除去
         splice  途中の要素を追加、削除 */
      a.push(500); // 末尾に500を追加
      console.log(a); // 100, 300, 200, 500
      a.splice(1, 2, 800, 1000); // 添字, 何文字削除するか、後の二つを追加
                                 // 配列の二つ目から二個削除し、800と1000を追加
      console.log(a); // 100, 800, 1000, 500
   // - Math 数学 他のオブジェクトと違ってnewする必要なし
      console.log(Math.PI); // 円周率を表示 3.1415...
      console.log(Math.ceil(5.3)); // 実数を渡すと切り上げ 6
      console.log(Math.floor(5.3)); // 切り捨て 5
      console.log(Math.round(5.3)); // 四捨五入 5
      console.log(Math.random()); // ランダム値を生成
                                  // 0から1未満の実数を生成
   // - Date 日付
      var d = new Date(); // 現在時刻のオブジェクト取得
      /* var d = new Date(1996, 1, 22, 10, 20, 30); 1996年2月22日10時20分30秒
                                                    月は0 = 1月、1 = 2月となる */
      console.log(d.getFullYear()); // 年を取得
      console.log(d.getMonth()); // 月を取得 1月は0、2月は1が取得される
      console.log(d.getTime()); // 基準日からの経過ミリ秒
                                // 1970年１月１日からの経過ミリ秒表示
      // 日付計算をする時は、経過ミリ秒同士で計算してから日付に変換する

      /* console.dir(window); オブジェクトのプロパティを変更 色々出る
         console.log(window.outerHeight); windowの高さを表示
         window.location.href = 'https://github.com/'; 別のURLに飛ばす
         document 今開いているページ 特に良く使う
         動的にページの一部を書き換えたり、新しい要素を追加 */
  </script>
</body>
</html>
